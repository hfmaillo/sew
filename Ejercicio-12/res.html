<!DOCTYPE html>

<html lang="es"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File</title>
    <link rel="stylesheet" href="Ejercicio12.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="Ejercicio12.js"></script>
</head>

<body>
    <!-- Ejercicio 12. Versión 1.0. 17/11/2020. Héctor Fernández Maillo. Universidad de Oviedo -->
    <header>
        <h1>File</h1><p>Este navegador soporta el API File</p>
    </header>

    <article>
        <h2 hidden="">File</h2>
        <input type="file" title="Archivos" name="Archivos" id="subirArchivos" onchange="file.cargarArchivos()" multiple="">
    <section><h3>Ejemplo.json</h3><ul><li>Tamaño: 676 bytes</li><li>Tipo: application/json</li><li>Fecha de la última modificación: Tue Dec 01 2020 19:56:21 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>{<br>  "coord": {<br>    "lon": -5.84,<br>    "lat": 43.36<br>  },<br>  "weather": [<br>    {<br>      "id": 800,<br>      "main": "Clear",<br>      "description": "cielo claro",<br>      "icon": "01n"<br>    }<br>  ],<br>  "base": "stations",<br>  "main": {<br>    "temp": 8,<br>    "pressure": 1020,<br>    "humidity": 87,<br>    "temp_min": 8,<br>    "temp_max": 8<br>  },<br>  "visibility": 10000,<br>  "wind": {<br>    "speed": 5.1,<br>    "deg": 240<br>  },<br>  "clouds": {<br>    "all": 0<br>  },<br>  "dt": 1510808400,<br>  "sys": {<br>    "type": 1,<br>    "id": 5466,<br>    "message": 0.0393,<br>    "country": "ES",<br>    "sunrise": 1510816698,<br>    "sunset": 1510851457<br>  },<br>  "id": 3114711,<br>  "name": "Oviedo",<br>  "cod": 200<br>}</pre></section><section><h3>Ejemplo.txt</h3><ul><li>Tamaño: 20 bytes</li><li>Tipo: text/plain</li><li>Fecha de la última modificación: Tue Dec 01 2020 21:14:27 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>?<br>Hola<br>,<br>mundo<br>!</pre></section><section><h3>Ejemplo.xml</h3><ul><li>Tamaño: 771 bytes</li><li>Tipo: text/xml</li><li>Fecha de la última modificación: Tue Dec 01 2020 19:57:07 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;current&gt;<br>    &lt;city id="3114711" name="Oviedo"&gt;<br>        &lt;coord lon="-5.84" lat="43.36"/&gt;<br>        &lt;country&gt;ES&lt;/country&gt;<br>        &lt;sun rise="2017-11-19T07:23:01" set="2017-11-19T16:54:35"/&gt;<br>    &lt;/city&gt;<br>    &lt;temperature value="10" min="10" max="10" unit="metric"/&gt;<br>    &lt;humidity value="81" unit="%"/&gt;<br>    &lt;pressure value="1023" unit="hPa"/&gt;<br>    &lt;wind&gt;<br>        &lt;speed value="2.6" name="Light breeze"/&gt;<br>        &lt;gusts/&gt;<br>        &lt;direction value="160" code="SSE" name="South-southeast"/&gt;<br>    &lt;/wind&gt;<br>    &lt;clouds value="0" name="clear sky"/&gt;<br>    &lt;visibility value="10000"/&gt;<br>    &lt;precipitation mode="no"/&gt;<br>    &lt;weather number="800" value="cielo claro" icon="01n"/&gt;<br>    &lt;lastupdate value="2017-11-19T22:30:00"/&gt;<br>&lt;/current&gt;</pre></section><section><h3>Ejercicio12.css</h3><ul><li>Tamaño: 1085 bytes</li><li>Tipo: text/css</li><li>Fecha de la última modificación: Tue Dec 01 2020 21:19:36 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>/* Ejercicio12.css */<br>/* Version 1.0. 17/11/2020. Hector Fernandez Maillo. Universidad de Oviedo */<br><br>/* a=0 b=0 c=1 -&gt; Especificidad =   1 */<br>body {<br>      font: 1.1em "Trebuchet MS", sans-serif;<br>      line-height: 1.9;<br>      background-color:#fffbc8; <br>      text-align: justify;<br>  }<br><br>/* a=0 b=0 c=1 -&gt; Especificidad =   1 */<br>h1 {<br>      background-color: #A7270B; <br>      color: white;<br>      text-transform: uppercase;  <br>      text-align: center; <br>      padding: 1em 2em;<br>      border: dashed black;<br>      margin: 1em 1.5em;<br>  }<br><br>/* a=0 b=0 c=2 -&gt; Especificidad =   2 */<br>h1 + p {<br>      font-weight: bold;<br>      padding: 0em 3em;<br>      text-align: center;<br>  }<br><br>/* a=0 b=0 c=1 -&gt; Especificidad =   1 */<br>h3 {<br>      color: #A7270B;<br>      font-variant: small-caps;<br>  }<br><br>/* a=0 b=0 c=1 -&gt; Especificidad =   1 */<br>ul {<br>      list-style: circle outside;<br>  }<br><br>/* a=0 b=0 c=1 -&gt; Especificidad =   1 */<br>footer {<br>      margin-top: 2em;<br>  }<br><br>/* a=0 b=1 c=1 -&gt; Especificidad =  11 */<br>img[alt~="Válido!"] {<br>      height: 3.6em;<br>      width: 3.6em;<br>  }<br></pre></section><section><h3>Ejercicio12.html</h3><ul><li>Tamaño: 1206 bytes</li><li>Tipo: text/html</li><li>Fecha de la última modificación: Tue Dec 01 2020 20:56:06 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>&lt;!DOCTYPE html&gt;<br><br>&lt;html lang="es"&gt;<br><br>&lt;head&gt;<br>    &lt;meta charset="UTF-8"&gt;<br>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;<br>    &lt;title&gt;File&lt;/title&gt;<br>    &lt;link rel="stylesheet" href="Ejercicio12.css" /&gt;<br>    &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"&gt;&lt;/script&gt;<br>    &lt;script src="Ejercicio12.js"&gt;&lt;/script&gt;<br>&lt;/head&gt;<br><br>&lt;body onload="file.comprobarSoporteApi()"&gt;<br>    &lt;!-- Ejercicio 12. Versión 1.0. 17/11/2020. Héctor Fernández Maillo. Universidad de Oviedo --&gt;<br>    &lt;header&gt;<br>        &lt;h1&gt;File&lt;/h1&gt;<br>    &lt;/header&gt;<br><br>    &lt;article&gt;<br>        &lt;h2 hidden&gt;File&lt;/h2&gt;<br>        &lt;input type="file" title="Archivos" name="Archivos" id="subirArchivos" onchange="file.cargarArchivos()" multiple /&gt;<br>    &lt;/article&gt;<br><br>    &lt;footer&gt;<br>        &lt;a href="https://validator.w3.org/check/referer"&gt;&lt;img src="https://clouddayscom.files.wordpress.com/2020/06/html5_badge.png" alt="¡HTML5 Válido!" /&gt;&lt;/a&gt;<br>        &lt;a href="http://jigsaw.w3.org/css-validator/check/referer"&gt;&lt;img src="https://kevloi.github.io/portfolio/static/media/CSS.f6eb4946.png" alt="¡CSS Válido!" /&gt;&lt;/a&gt;<br>        &lt;p&gt;Copyright @2020 Héctor Fernández&lt;/p&gt;<br>    &lt;/footer&gt;<br>&lt;/body&gt;<br><br>&lt;/html&gt;<br></pre></section><section><h3>Ejercicio12.js</h3><ul><li>Tamaño: 2463 bytes</li><li>Tipo: text/javascript</li><li>Fecha de la última modificación: Tue Dec 01 2020 21:19:55 GMT+0100 (hora estándar de Europa central)</li><li>Contenido:</li></ul><pre>// Ejercicio12.js<br>// Ejercicio 12<br>// Version 1.0. 17/11/2020. Hector Fernandez Maillo. Universidad de Oviedo<br>"use strict";<br>class File {<br><br>    comprobarSoporteApi() {<br>        if (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) {  <br>            // El navegador soporta el API File<br>            $("h1").after("&lt;p&gt;Este navegador soporta el API File&lt;/p&gt;");<br>        } else {<br>            $("h1").after("&lt;p&gt;¡¡¡ Este navegador NO soporta el API File y este programa puede no funcionar correctamente !!!&lt;/p&gt;");<br>        }<br>    }<br><br>    cargarArchivos() {<br>        $("section").remove();<br><br>        var archivos = document.getElementById("subirArchivos").files;<br><br>        for (var i = 0; i &lt; archivos.length; i++) {<br>            var archivo = archivos[i];<br>            this.mostrarArchivo(archivo);<br>        }<br>    }<br><br>    mostrarArchivo(archivo) {<br>        var section = document.createElement("section");<br><br>        var h3 = document.createElement("h3");<br>        h3.innerHTML = archivo.name;<br>        $(section).append(h3);<br><br>        var stringPropiedades = "&lt;ul&gt;&lt;li&gt;Tamaño: " + archivo.size + " bytes&lt;/li&gt;";<br>            stringPropiedades += "&lt;li&gt;Tipo: " + archivo.type + "&lt;/li&gt;";<br>            stringPropiedades += "&lt;li&gt;Fecha de la última modificación: " + archivo.lastModifiedDate + "&lt;/li&gt;";<br>        <br>        var tipoTexto = /text.*/;<br>        var tipoJson = /application.json/;<br>        if (archivo.type.match(tipoTexto) || archivo.type.match(tipoJson)) {<br>            stringPropiedades += "&lt;li&gt;Contenido:&lt;/li&gt;&lt;/ul&gt;";<br>            var lector = new FileReader();<br>            lector.onload = function (evento) {<br>                // El evento "onload" se lleva a cabo cada vez que se completa con éxito una operación de lectura<br>                // La propiedad "result" es donde se almacena el contenido del archivo<br>                // Esta propiedad solamente es válida cuando se termina la operación de lectura<br>                var pre = document.createElement("pre");<br>                pre.innerText = lector.result;<br>                $(section).append(stringPropiedades);<br>                $(section).append(pre);<br>                $("article").append(section);<br>            }      <br>            lector.readAsText(archivo);<br>        } else {<br>            stringPropiedades += "&lt;/ul&gt;";<br>            $(section).append(stringPropiedades);<br>            $("article").append(section);<br>        }<br>    }<br><br>}<br>var file = new File();<br></pre></section></article>

    <footer>
        <a href="https://validator.w3.org/check/referer"><img src="https://clouddayscom.files.wordpress.com/2020/06/html5_badge.png" alt="¡HTML5 Válido!"></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer"><img src="https://kevloi.github.io/portfolio/static/media/CSS.f6eb4946.png" alt="¡CSS Válido!"></a>
        <p>Copyright @2020 Héctor Fernández</p>
    </footer>



</body></html>